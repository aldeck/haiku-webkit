SubDir TOP Tools DumpRenderTree ;

local defines = [ FDefines BUILDING_HAIKU__=1 ] ;

# To turn on debugging symbols just add -ggdb to each of these
SubDirC++Flags $(defines) ;
SubDirCcFlags $(defines) ;

SubDirSysHdrs $(TOP) Source ;
SubDirSysHdrs $(TOP) Source JavaScriptCore ;
SubDirSysHdrs $(TOP) Source JavaScriptCore ForwardingHeaders ;
SubDirSysHdrs $(TOP) Source JavaScriptCore assembler ;
SubDirSysHdrs $(TOP) Source JavaScriptCore bytecode ;
SubDirSysHdrs $(TOP) Source JavaScriptCore interpreter ;
SubDirSysHdrs $(TOP) Source JavaScriptCore jit ;
SubDirSysHdrs $(TOP) Source JavaScriptCore parser ;
SubDirSysHdrs $(TOP) Source JavaScriptCore runtime ;
SubDirSysHdrs $(TOP) Source WebCore ;
SubDirSysHdrs $(TOP) Source WTF ;

SubDirHdrs $(TOP) Source WebCore DerivedSources WebCore ;
SubDirHdrs $(TOP) Source WebCore bindings js ;
SubDirHdrs $(TOP) Source WebCore bridge ;
SubDirHdrs $(TOP) Source WebCore css ;
SubDirHdrs $(TOP) Source WebCore dom ;
SubDirHdrs $(TOP) Source WebCore editing ;
SubDirHdrs $(TOP) Source WebCore history ;
SubDirHdrs $(TOP) Source WebCore html ;
SubDirHdrs $(TOP) Source WebCore loader ;
SubDirHdrs $(TOP) Source WebCore page ;
SubDirHdrs $(TOP) Source WebCore page animation ;
SubDirHdrs $(TOP) Source WebCore platform ;
SubDirHdrs $(TOP) Source WebCore platform graphics ;
SubDirHdrs $(TOP) Source WebCore platform network ;
SubDirHdrs $(TOP) Source WebCore platform network curl ;
SubDirHdrs $(TOP) Source WebCore platform text ;
SubDirHdrs $(TOP) Source WebCore rendering ;

SubDirHdrs $(TOP) Source WebKit haiku API ;
SubDirHdrs $(TOP) Source WebKit haiku HaikuLauncher ;
SubDirHdrs $(TOP) Source WebKit haiku WebCoreSupport ;

SubDirHdrs $(TOP) Tools DumpRenderTree ;
SubDirHdrs $(TOP) Tools DumpRenderTree ForwardingHeaders ;
SubDirHdrs $(TOP) Tools DumpRenderTree haiku ;


#-----------------------------------------------------------------------------
# DumpRenderTree
#-----------------------------------------------------------------------------
SEARCH_SOURCE += [ FDirName $(TOP) Source WebKit haiku HaikuLauncher ] ;
SEARCH_SOURCE += [ FDirName $(TOP) Tools DumpRenderTree ] ;
SEARCH_SOURCE += [ FDirName $(TOP) Tools DumpRenderTree haiku ] ;

Application DumpRenderTree :
    LauncherWindow.cpp

    DumpRenderTree.cpp
    JSStringUtils.cpp
    GCController.cpp
    GCControllerHaiku.cpp
    LayoutTestController.cpp
    LayoutTestControllerHaiku.cpp
    WorkQueue.cpp
    WorkQueueItemHaiku.cpp
    :
    libjavascriptcore.so libwebcore.so libwebkit.so libwtf.so
	# Haiku libraries
	be bsd network root stdc++
;

